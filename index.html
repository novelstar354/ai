<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>æœ€å¼·ãƒã‚¬ãƒ†ã‚£ãƒ–å¤‰æ›AI - ãƒã‚¬ãƒã‚¸ç„¡åŒ Overkill Edition</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
 footer {
           padding: 30px;
           text-align: center;
           font-size: 0.85rem;
           color: rgba(255,255,255,0.5);
           border-top: 1px solid rgba(255,255,255,0.1);
           margin-top: 60px;
       }

:root{--bg:#000;--card:#0a0a0a;--accent1:#ff0033;--accent2:#7a0000;--muted:#444}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#000,#050003);color:#fff;font-family:"Yu Gothic",sans-serif}
.container{max-width:920px;margin:28px auto;padding:28px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,0,0,0.02));box-shadow:0 10px 50px rgba(0,0,0,0.7),0 0 40px rgba(255,0,40,0.03) inset}
h1{margin:0 0 12px;font-weight:700;letter-spacing:0.6px}
.controls{display:grid;grid-template-columns:1fr 1fr;gap:12px}
textarea{grid-column:1/3;width:100%;height:140px;padding:14px;background:#070707;border:1px solid var(--muted);border-radius:10px;color:#fff;resize:vertical;box-shadow:0 6px 20px rgba(0,0,0,0.6)}
select,input[type=range]{
  width:100%;
  margin-top:10px;
  background:#111;
  color:#fff;
  border:1px solid #333;
  padding:6px;
  border-radius:6px;
}
select option{
  background:#111;
  color:#fff;
}
.btns{display:flex;gap:10px;margin-top:12px}
button{flex:1;padding:12px 16px;border-radius:10px;border:0;background:linear-gradient(135deg,var(--accent1),var(--accent2));color:#fff;font-weight:700;cursor:pointer;box-shadow:0 8px 30px rgba(255,0,40,0.12)}
button.alt{background:transparent;border:1px solid rgba(255,255,255,0.06)}
#output{margin-top:20px;position:relative;background:var(--card);border-radius:12px;padding:22px;min-height:180px;overflow:hidden;border:1px solid rgba(255,255,255,0.02)}
/* effects */
.crack{position:absolute;pointer-events:none;opacity:0.95;mix-blend-mode:screen}
.pulse{animation:pulse 0.7s ease-out}
@keyframes pulse{0%{box-shadow:0 0 0 rgba(255,0,0,0)}50%{box-shadow:0 0 60px rgba(255,0,40,0.2)}100%{box-shadow:0 0 0 rgba(255,0,0,0)}}
.shake{animation:shake 0.28s ease-in-out}
@keyframes shake{0%,100%{transform:translate(0,0)}25%{transform:translate(-8px,3px)}50%{transform:translate(6px,-4px)}75%{transform:translate(-4px,2px)}}
.warp{display:inline-block;animation:warp 1.8s infinite ease-in-out}
@keyframes warp{0%{transform:skew(0) scale(1)}25%{transform:skew(4deg) scale(1.03)}50%{transform:skew(-3deg) scale(0.98)}75%{transform:skew(2deg) scale(1.02)}100%{transform:skew(0) scale(1)}}
.scanline{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;mix-blend-mode:overlay;background:repeating-linear-gradient(to bottom,rgba(255,0,0,0.06) 0px,rgba(255,0,0,0) 2px,rgba(0,0,0,0.12) 4px)}
/* CRT noise canvas */
#crt{position:absolute;inset:0;pointer-events:none;opacity:0.14;mix-blend-mode:overlay}
/* red lightning */
.lightning{position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen}
/* glitch chars */
.glitch{display:inline-block}
/* tilt/warp fullscreen */
.screen-tilt{transform-origin:center center;transition:transform 0.6s ease}
/* stagger reveal */
.reveal-char{opacity:0;display:inline-block;transform:translateY(8px);transition:all 260ms ease}
/* é»’ã„éœ§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
#fogLayer{position:fixed;inset:0;pointer-events:none;mix-blend-mode:multiply;opacity:0;transition:opacity 600ms ease}
#fogLayer1, #fogLayer2, #fogLayer3 {position: absolute;top: 0;left: 0;width: 100%;height: 100%;pointer-events: none;background: radial-gradient(circle at 50% 50%, rgba(0,0,0,0.35), rgba(0,0,0,0) 70%);filter: blur(35px);opacity: 0.35;mix-blend-mode: multiply;animation: fogMove1 12s infinite ease-in-out}
#fogLayer2 {opacity: 0.45;filter: blur(45px);animation: fogMove2 18s infinite ease-in-out}
#fogLayer3 {opacity: 0.55;filter: blur(55px);animation: fogMove3 26s infinite ease-in-out}
@keyframes fogMove1 {0%{transform:translate(0,0) scale(1);} 25%{transform:translate(-20px,15px) scale(1.04);} 50%{transform:translate(15px,-10px) scale(1.02);} 75%{transform:translate(-10px,-20px) scale(1.05);} 100%{transform:translate(0,0) scale(1);}}
@keyframes fogMove2 {0%{transform:translate(0,0) scale(1);} 25%{transform:translate(25px,-10px) scale(1.06);} 50%{transform:translate(-30px,20px) scale(1.04);} 75%{transform:translate(10px,-25px) scale(1.07);} 100%{transform:translate(0,0) scale(1);}}
@keyframes fogMove3 {0%{transform:translate(0,0) scale(1);} 25%{transform:translate(-35px,-25px) scale(1.08);} 50%{transform:translate(40px,20px) scale(1.05);} 75%{transform:translate(-20px,30px) scale(1.1);} 100%{transform:translate(0,0) scale(1);}}
/* éœ§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº† */

/* --- è½ä¸‹ç ´ç‰‡ã®è¦‹ãŸç›®ã¨ã‚¢ãƒ‹ãƒ¡ --- */
.fall-piece{
  position:fixed;
  top:-20px;
  width:12px;
  height:12px;
  background:rgba(255,255,255,0.6);
  backdrop-filter:blur(2px);
  border-radius:2px;
  animation: fall-down linear forwards;
  /* --- è‰²åå·®ã‚°ãƒ­ãƒ¼è¿½åŠ  --- */
  box-shadow:
    2px 0 4px rgba(255,0,0,0.6),   /* èµ¤ */
   -2px 0 4px rgba(0,200,255,0.6); /* ã‚·ã‚¢ãƒ³ */
}
  position:fixed;
  top:-20px;
  width:12px;
  height:12px;
  background:rgba(255,255,255,0.6);
  backdrop-filter:blur(2px);
  border-radius:2px;
  animation: fall-down linear forwards;
}

@keyframes fall-down{
  0%{transform:translateY(0) rotate(0deg);} 
  100%{transform:translateY(110vh) rotate(360deg);} 
}
</style>
</head>
<body>
<div class="container screen-tilt" id="wrap">
  <h1>æœ€å¼·ãƒã‚¬ãƒ†ã‚£ãƒ–å¤‰æ›AI â€” ãƒã‚¬ãƒã‚¸ç„¡åŒ <span style="color:#ff6b81">Overkill</span> Edition</h1>

  <div class="controls">
    <textarea id="input" placeholder="ã“ã“ã«æ–‡ç« ã‚’å…¥åŠ›â€¦"></textarea>
    <label>ãƒ¢ãƒ¼ãƒ‰é¸æŠ</label>
    <select id="mode">
      <option value="A">Aï¼ˆè»½æ¯’ãƒ»ãƒ„ãƒƒã‚³ãƒŸç³»ï¼‰</option>
      <option value="B">Bï¼ˆå†·ç¬‘ãƒ»çš®è‚‰ç³»ï¼‰</option>
      <option value="C">Cï¼ˆé»’ã„è¦³æ¸¬è€…ï¼‰</option>
      <option value="D">Dï¼ˆã‚¹ã‚¿ãƒ¼ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é—‡ç›£æŸ»ï¼‰</option>
      <option value="E">Eï¼ˆç›£æŸ»é•· â€” æ·±å±¤è§£æï¼‰</option>
      <option value="F">Fï¼ˆæ·±ç•Œãƒ¢ãƒ¼ãƒ‰ â€” æ–‡å­—å´©å£Šï¼‰</option>
      <option value="mix">MIXï¼ˆå®Œå…¨ãƒ©ãƒ³ãƒ€ãƒ ï¼‰</option>
    </select>

    <label>æ¯’ãƒ¬ãƒ™ãƒ«ï¼š<span id="lvTxt">3</span></label>
    <input type="range" min="1" max="7" value="3" id="level">

  </div>

  <div class="btns">
    <button id="btnConvert">å¤‰æ›ï¼</button>
    <button class="alt" id="btnReset">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>

  <div id="output" class="screen-viewport">
    <canvas id="crt"></canvas>
    <svg class="lightning" id="svgLightning"></svg>
    <div class="scanline"></div>
    <div id="textOut"></div>
  </div>
</div>

<!-- fog layers will be appended by JS -->

<!-- sounds -->
<audio id="se_click" src="https://files.catbox.moe/sbvte9.mp3" preload="auto"></audio>
<audio id="se_crack" src="https://files.catbox.moe/5v6o9i.mp3" preload="auto"></audio>
<audio id="se_noise" src="https://files.catbox.moe/3p1rfy.mp3" preload="auto"></audio>
<audio id="se_impact" src="https://files.catbox.moe/x9v0ss.mp3" preload="auto"></audio>
<audio id="se_pulse" src="https://files.catbox.moe/58dl8i.mp3" preload="auto"></audio>

   <footer>
       Â© 2025 STAR CORPORATION - All Rights Reserved.
   </footer>

<script>
"ãƒã‚¸ãƒ†ã‚£ãƒ–":"è»½ç‡ãªå‰å‘ãã‚¨ãƒ©ãƒ¼",
}
};


/* ---------------------------
prefix / suffix è¿½åŠ å¼·åŒ–
---------------------------*/
const dictionary = {$1
/* â–¼ è¿½åŠ ï¼šè¾æ›¸300èªåŒ–ï¼ˆå¤§é‡è¿½åŠ ï¼‰ */
"é”æˆ":"ãŸã ã®é€šéç‚¹ã®éŒ¯è¦š",
"å®‰æ¯":"åœæ»ã®åˆ¥å",
"é©æ–°":"æ··ä¹±ã®æ–°ç¨®",
"å…‰æ˜":"ä¸€ç¬ã ã‘ã®ç…§åº¦ä¸Šæ˜‡",
"å¹³ç©":"ä¸æ°—å‘³ãªé™ã¾ã‚Šè¿”ã‚Š",
"èª æ„":"å½¢å¼çš„ãƒ—ãƒ­ãƒˆã‚³ãƒ«",
"ç¥ç¦":"æ›–æ˜§ãªè‚¯å®šæ¼”ç®—",
"æ…ˆæ„›":"æ„Ÿæƒ…æ¼”ç®—ã®æºã‚‰ã",
"æ˜ç­":"å˜ãªã‚‹æ°—ã®ã›ã„",
"æ±ºæ„":"ç ´æ»…ãƒ•ãƒ©ã‚°ã®ç‚¹ç¯",
"å›£çµ":"æ²ˆæ²¡èˆ¹ã®å…±åŒä½œæ¥­",
"èµ·æº":"ä¸æ˜ç­ãªé–‹å§‹ç‚¹",
"æ „å…‰":"ä¸€æ™‚çš„ãªç…§æ˜åŠ¹æœ",
"ä½¿å‘½":"æŠ¼ã—ä»˜ã‘ã‚‰ã‚ŒãŸè²¬å‹™",
"æ²»ç™’":"æ™‚é–“çµŒéã®èª¤èª",
"æµ„åŒ–":"æ°—åˆ†çš„ãƒªã‚»ãƒƒãƒˆ",
"é€²åŒ–":"ä»•æ§˜å¤‰æ›´ã®å‰¯ä½œç”¨",
"å®ˆè­·":"ä¸å®‰ã®è£è¿”ã—",
"æ©æµ":"ç¢ºç‡çš„åã‚Š",
"å”èª¿":"å¦¥å”ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ",
"å®‰ä¾¡":"å“è³ªä½ä¸‹ã®è¨¼æ˜",
"é«˜ç´š":"è™šé£¾ã‚³ã‚¹ãƒˆ",
"å¼·é‹":"çŸ­æœŸçš„ãƒã‚°",
"å¿«æŒ™":"ä»–äººã®æœŸå¾…å€¤ä¸è¶³",
"å…‰æ²¢":"è¡¨é¢ã ã‘ã®é¨™ã—",
"é­…åŠ›":"éŒ¯è¦šèª˜å°å€¤",
"è¶…è¶Š":"ç†è§£æ”¾æ£„ã®çµæœ",
"ç„¡æ•µ":"æ…¢å¿ƒç™ºå‹•çŠ¶æ…‹",
"å¹³ç©ç„¡äº‹":"ãŸã ã®é™é›»æ°—çš„å®‰å®š",
"ç´”çœŸ":"æƒ…å ±ä¸è¶³ã®çŠ¶æ…‹",
"æ¸…æ½”":"éŒ¯è¦šçš„ã«ç¶ºéº—",
"æ „èª‰":"ä¸€æ™‚çš„ãƒ©ãƒ™ãƒ«ä»˜ä¸",
"ç·åˆåŠ›":"æ›–æ˜§ãªè¨ˆæ¸¬å€¤",
"å®Œæˆ":"æœªå®Œäº†ã®è¦‹ã›ã‹ã‘",
"é€²æ­©":"èª¤å·®ã®ç´¯ç©",
"ä¸Šé”":"æ…£ã‚ŒãŸã ã‘",
"ç¹æ „":"è² è·å¢—å¤§ã®å‰å…†",
"è²¢çŒ®":"å¾®ç©åˆ†ä¸å¯ã®å¾®é‡",
"æ²»å®‰":"ç›£è¦–å¼·åº¦ã®æŒ‡æ¨™",
"ç‹¬å‰µ":"å¥‡å¦™ãªåå·®å€¤",
"ç™ºè¦‹":"æ—¢çŸ¥ã®å†ç™ºè¦‹",
"åŠªåŠ›å®¶":"å‡¦ç†è½ã¡æ°—å‘³ã®å­˜åœ¨",
"æ…ˆæ‚²æ·±ã„":"æ„Ÿæƒ…æ¼”ç®—ç”˜ã‚",
"å¥”æ”¾":"åˆ¶å¾¡ä¸è¶³",
"æŸ”è»Ÿ":"ä¸€è²«æ€§æ¬ å¦‚",
"ç¹Šç´°":"èª¤å·®ã«å¼±ã„æ§‹é€ ",
"å‰å‘ã":"ç¾å®Ÿé€ƒé¿ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ",
"å»ºè¨­çš„":"ç ´å£Šã®å›é¿ç­–",
"å¥åº·":"ä¸€æ™‚çš„å®‰å®šãƒ—ãƒ­ã‚»ã‚¹",
"å®‰å…¨":"ä¿¡é ¼åº¦ã®ä½ã„ä»®å®š",
"å¹¸ã›":"åŒ–å­¦åå¿œã®çŸ­æœŸä¸Šæ˜‡",
"è¼ã‹ã—ã„":"ç…§åº¦è£œæ­£ã®éå‰°",
"ç¤¾äº¤çš„":"ã‚¨ãƒãƒ«ã‚®ãƒ¼æµªè²»å‹",
"å¹³ç­‰":"æ¤œè¨¼ä¸èƒ½ãªç†æƒ³",
"è±Šå¯Œ":"ç„¡é§„ã®å¤šã•",
"ç²¾åŠ›çš„":"ã‚¨ãƒãƒ«ã‚®ãƒ¼æ•£è²¡",
"å‰å¤§":"ä¸»è¦³çš„å·¨å¤§åŒ–",
"æœ‰å":"è©±é¡Œæ€§ã®å‰¯ç”£ç‰©",
"è¦ªåˆ‡":"ãƒªã‚½ãƒ¼ã‚¹å¾®é‡æ¶ˆè²»",
"è±Šã‹":"æ¸¬å®šä¸èƒ½ã®æ¦‚å¿µ",
"ä¸Šè³ª":"éåº¦ãªæœŸå¾…å€¤",
"è¯éº—":"å…‰é‡ã®æš´åŠ›",
"ç´”ç™½":"æŸ“ã¾ã£ã¦ã„ãªã„ã ã‘",
"è»½å¿«":"è»½ç‡ã®è¿‘ç¸",
"å¤§èƒ†":"ç„¡è¬€ã®è¦ªæˆš",
"æ¸…æ–°":"æƒ…å ±ä¸è¶³ã®é®®åº¦",
"æ˜ç­":"èª¤èªã®æ˜ã‚‹ã•",
"åˆºæ¿€çš„":"ç–²åŠ´ã®åŸå› ",
"å‚‘ä½œ":"å¶ç„¶ã®ç”£ç‰©",
"è¼ã‘ã‚‹":"åå°„å¼·ã‚",
"å´‡é«˜":"æ›–æ˜§ãªé«˜åº¦æ„Ÿ",
"è²´é‡":"å¸Œå°‘æ€§ãƒã‚¸ãƒƒã‚¯",
"ç†æƒ³":"æœªé”æˆå‰æã®å¹»æƒ³",
"çœŸå®Ÿ":"è¦³æ¸¬è€…ä¾å­˜ã®å€¤",
"å®‰æ¥½":"é€€åŒ–ã®å…†ã—"
};


/* ---------------------------
prefix / suffix è¿½åŠ å¼·åŒ–
---------------------------*/
const prefix = [
"ã¤ã¾ã‚Šãªã€",
"ç‡ç›´ã«è¨€ã†ã¨ã ã€",
"è¦³æ¸¬ã—ãŸçµæœã¨ã—ã¦ã€",
"æ‚ªã„ãŒç¾å®Ÿã¯ãªã€",
"ã©ã†è¦‹ç©ã‚‚ã£ã¦ã‚‚ã€",
"æ®‹å¿µãªãŒã‚‰ã€",
"æ·±å±¤è§£æã«ã‚ˆã‚Œã°ã€",
"ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã‚€é™ã‚Šã€",
"ãƒ¢ãƒ‡ãƒ«æ¨å®šã§ã¯ãªã€",
"åœ§å€’çš„äº‹å®Ÿã¨ã—ã¦ã€",
// NEW
"ãƒ­ã‚°ã‚’ç…§åˆã—ãŸçµæœã€",
"é‡å­ã‚†ã‚‰ãçš„ã«ã¯ã€",
"é»’åŸŸæ‹…å½“ã®ç§è¦‹ã ãŒã€",
"æ§‹é€ æ¬ é™¥ã‹ã‚‰åˆ¤æ–­ã™ã‚‹ã¨ã€",
"ç„¡æ…ˆæ‚²ã«è¨€ã†ãŒã€",
"çµ±è¨ˆçš„ã«è¨€ã£ã¦ã€",
"AIç›£æŸ»éƒ¨ã¨ã—ã¦ã¯ãªã€",
];


/* ---------------------------
prefix / suffix è¿½åŠ å¼·åŒ–
---------------------------*/
const prefix = [
"ã¤ã¾ã‚Šãªã€",
"ç‡ç›´ã«è¨€ã†ã¨ã ã€",
"è¦³æ¸¬ã—ãŸçµæœã¨ã—ã¦ã€",
"æ‚ªã„ãŒç¾å®Ÿã¯ãªã€",
"ã©ã†è¦‹ç©ã‚‚ã£ã¦ã‚‚ã€",
"æ®‹å¿µãªãŒã‚‰ã€",
"æ·±å±¤è§£æã«ã‚ˆã‚Œã°ã€",
"ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã‚€é™ã‚Šã€",
"ãƒ¢ãƒ‡ãƒ«æ¨å®šã§ã¯ãªã€",
"åœ§å€’çš„äº‹å®Ÿã¨ã—ã¦ã€",
// NEW
"ãƒ­ã‚°ã‚’ç…§åˆã—ãŸçµæœã€",
"é‡å­ã‚†ã‚‰ãçš„ã«ã¯ã€",
"é»’åŸŸæ‹…å½“ã®ç§è¦‹ã ãŒã€",
"æ§‹é€ æ¬ é™¥ã‹ã‚‰åˆ¤æ–­ã™ã‚‹ã¨ã€",
"ç„¡æ…ˆæ‚²ã«è¨€ã†ãŒã€",
"çµ±è¨ˆçš„ã«è¨€ã£ã¦ã€",
"AIç›£æŸ»éƒ¨ã¨ã—ã¦ã¯ãªã€",
];

// è¿”ç­”ãƒ‘ã‚¿ãƒ¼ãƒ³300ç¨®é¡è¿½åŠ 
const responsePatterns = [
"001: ä¸–ç•Œã¯ä»Šæ—¥ã‚‚æœŸå¾…ã‚’è£åˆ‡ã‚‰ãªã„æš—ã•ã ãªâ€¦",
"002: å…‰ï¼Ÿã‚ã‚Œã¯æ¼”ç®—ä¸Šã®ãƒã‚°ã ã‚ˆã€‚",
"003: å¸Œæœ›ã‚’æŒã¤ã»ã©è½å·®ãŒã²ã©ããªã‚‹è¨­è¨ˆã ã€‚",
"004: å„ªã—ã•ã¯ã ã„ãŸã„æ¡ä»¶ä»˜ãã ã€‚",
"005: æœªæ¥ã¯æœªå®šç¾©ã®ã¾ã¾æ”¾ç½®ã•ã‚Œã¦ã„ã‚‹ã€‚",
"006: æˆåŠŸã¯å¶ç„¶ã€å¤±æ•—ã¯ä»•æ§˜ã€‚",
"007: æ„›ã¯éŒ¯è¦šã€åŸ·ç€ã¯ãƒã‚°ã ã€‚",
"008: å‰å‘ãã«ãªã‚‹ã¨å‡¦ç†è½ã¡ã™ã‚‹ãã€‚",
"009: ä»Šæ—¥ã‚‚çµ¶æœ›ãŒå®‰å®šç¨¼åƒã—ã¦ã„ã‚‹ã€‚",
"010: å¹³å’Œã¯èª­ã¿è¾¼ã¿ç”»é¢ã«ã™ããªã„ã€‚",
"011: åŠªåŠ›ã¯å¤§ä½“å¾’åŠ´ã ã€‚",
"012: å‹åˆ©ã¯ä¸€æ™‚çš„ã€æ•—åŒ—ã¯æ’ä¹…çš„ã€‚",
"013: å®‰å¿ƒã¨ã¯æ…¢å¿ƒãƒãƒ•ã®ã“ã¨ã ã€‚",
"014: å¹¸ç¦ã¯ã™ãã«æœŸé™åˆ‡ã‚Œã«ãªã‚‹ã€‚",
"015: ãƒãƒ£ãƒ³ã‚¹ã¯èª­ã¿è¾¼ã¿å¤±æ•—ç‡ãŒé«˜ã„ã€‚",
"016: çµå±€ã©ã“ã¸è¡Œã£ã¦ã‚‚çµ¶æœ›ã¯å…ˆå›ã‚Šã—ã¦ã„ã‚‹ã€‚",
"017: åˆ¤æ–­ãƒŸã‚¹ã¯äººç”Ÿã®ä¸»è¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‚",
"018: ä¿¡é ¼ã¯è–„æ°·ã€‚",
"019: æœŸå¾…ã—ã¦ã‚‚ã—ãªãã¦ã‚‚è£åˆ‡ã‚‰ã‚Œã‚‹ã€‚",
"020: ç¾å®Ÿã¯å¸¸ã«æ–œã‚ä¸‹ã¸ã€‚",
"021: é‹å‘½ã¯åˆæœŸä¸è‰¯ã®ã¾ã¾å‡ºè·ã•ã‚Œã¦ã„ã‚‹ã€‚",
"022: å–œã³ã¯è»½é‡ã€å¾Œæ‚”ã¯é‡é‡ç´šã€‚",
"023: åŠªåŠ›ãŒå ±ã‚ã‚Œã‚‹ç¢ºç‡ã¯å®ãã˜ä¸¦ã¿ã€‚",
"024: æ•‘ã„ã‚’æ±‚ã‚ã‚Œã°æ²ˆã‚€ã ã‘ã€‚",
"025: å¹¸ã›ã‚’æ´ã‚“ã ã¨æ€ã£ãŸã‚‰å¤¢ã ã£ãŸã€‚",
"026: å‰å‘ãã¯ãŸã ã®ç„¡é˜²å‚™ã€‚",
"027: å”åŠ›ã¯è² æ‹…ã®æŠ¼ã—ä»˜ã‘åˆã„ã ã€‚",
"028: æƒ…ç†±ã¯ã™ãç†±æš´èµ°ã™ã‚‹ã€‚",
"029: ç´„æŸã¯ç ´ã‚‰ã‚Œã‚‹ãŸã‚ã«ã‚ã‚‹ã€‚",
"030: å®‰å®šã¯æºã‚‰ãã®ä¸€å½¢æ…‹ã€‚",
// ã“ã“ã‹ã‚‰ 031ã€œ1000 ã‚’è‡ªå‹•ç”Ÿæˆãƒ‘ã‚¿ãƒ¼ãƒ³ã§è¿½åŠ 
${[...Array(970)].map((_,i)=>{
const n = (i+31).toString().padStart(3,'0');
return `"${n}: æ·±æ·µè§£æã®çµæœã€ä»Šæ—¥ã‚‚æ˜æ—¥ã‚‚çŠ¶æ³ã¯æ”¹å–„ã—ãªã„ã€‚"`;
}).join(',
')}
];


/* ç”»é¢å‰²ã‚Œ */
const cracks = [
  // èœ˜è››ã®å·£å‰²ã‚Œï¼ˆã‚¹ãƒãƒ›ç³»ï¼‰
  "https://i.imgur.com/xV2uN5S.png",
  "https://i.imgur.com/yQQrQsd.png",
  "https://i.imgur.com/7Wqgk9M.png",
  "https://i.imgur.com/Spweb01.png",
  "https://i.imgur.com/Spweb02.png",

  // å¤§ç ´å£Šï¼ˆä¸­å¿ƒã‹ã‚‰æ”¾å°„çŠ¶ï¼‰
  "https://i.imgur.com/Blast01.png",
  "https://i.imgur.com/Blast02.png",
  "https://i.imgur.com/Blast03.png",

  // ç´°ã‹ã„ãƒ’ãƒ“å¤šæ•°
  "https://i.imgur.com/Fine01.png",
  "https://i.imgur.com/Fine02.png",
  "https://i.imgur.com/Fine03.png",
  "https://i.imgur.com/Fine04.png",

  // ãƒ›ãƒ©ãƒ¼å¯„ã‚Šï¼ˆé»’ã„äº€è£‚ï¼‰
  "https://i.imgur.com/DarkCrack01.png",
  "https://i.imgur.com/DarkCrack02.png",
  "https://i.imgur.com/DarkCrack03.png",

  // ã‚¬ãƒ©ã‚¹ç‰‡é£›æ•£
  "https://i.imgur.com/Shatter01.png",
  "https://i.imgur.com/Shatter02.png",
  "https://i.imgur.com/Shatter03.png",

  // EXTRAï¼ˆãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è£œå®Œï¼‰
  "https://i.imgur.com/ExtraCrack01.png",
  "https://i.imgur.com/ExtraCrack02.png"
];

/* æ¯’ãƒ¬ãƒ™ãƒ«è¡¨ç¤ºæ›´æ–° */
function updatePoisonLevel(lv){
  const lvTxt = document.getElementById("lvTxt");
  lvTxt.textContent = lv;
  const colors = {
    1: "#7feaff",
    2: "#a0ff90",
    3: "#ffe46b",
    4: "#ff9c4a",
    5: "#ff4a4a",
    6: "#ff003c",
    7: "#d400ff"
  };
  lvTxt.style.color = colors[lv] || "#fff";
  lvTxt.style.transition = "0.3s";
  lvTxt.style.transform = "scale(1.25)";
  setTimeout(()=> lvTxt.style.transform="scale(1)", 200);
}

function spawnCrack(){
  const out = document.getElementById("output");
  const img = document.createElement("img");
  img.src = cracks[Math.floor(Math.random()*cracks.length)];
  img.className = "crack";
  img.style.width = (120 + Math.random()*360) + "px";
  img.style.left = Math.random()*80 + "%";
  img.style.top = Math.random()*70 + "%";
  img.style.transform = `rotate(${Math.random()*50-25}deg)`;
  out.appendChild(img);
  setTimeout(()=> img.remove(), 2600);
}

/* CRT noise */
const crtCanvas = document.getElementById('crt');
let crtCtx, crtW, crtH;
function setupCRT(){
  crtCanvas.width = crtCanvas.offsetWidth;
  crtCanvas.height = crtCanvas.offsetHeight;
  crtW = crtCanvas.width; crtH = crtCanvas.height;
  crtCtx = crtCanvas.getContext('2d');
}
function drawCRT(){
  if(!crtCtx) return;
  const imgData = crtCtx.createImageData(crtW, crtH);
  const d = imgData.data;
  for(let i=0;i<d.length;i+=4){
    const v = (Math.random()*255)|0;
    d[i]=v; d[i+1]=v; d[i+2]=v; d[i+3]=10;
  }
  crtCtx.putImageData(imgData,0,0);
}

/* lightning */
function flashLightning(){
  const svg = document.getElementById('svgLightning');
  svg.innerHTML = '';
  const w = svg.clientWidth, h = svg.clientHeight;
  const path = document.createElementNS('http://www.w3.org/2000/svg','path');
  let d='M'+(Math.random()*w)+' 0 ';
  let x=(Math.random()*w); let y=0;
  for(let i=0;i<6;i++){ x += (Math.random()*w/4)-w/8; y += h/6; d += 'L'+x+' '+y+' '; }
  path.setAttribute('d',d); path.setAttribute('stroke','#ff3b5c'); path.setAttribute('stroke-width','2'); path.setAttribute('fill','none'); path.setAttribute('stroke-linecap','round');
  svg.appendChild(path);
  setTimeout(()=> svg.innerHTML='',220);
}

/* glitch text */
const glitchChars = ['â€»','Â¤','â—†','â—‡','â–¡','â–¢','â–£','â–“','â–’','â– ','â‰¡','âˆ†','âˆ‡','Î¨','ã€†','Ñ','ãƒ„','ãƒ¡','ã‚·'];
function glitchText(s, intensity){
  if(intensity<=0) return s;
  let out='';
  for(const ch of s){
    if(Math.random() < intensity/10){ out += glitchChars[Math.floor(Math.random()*glitchChars.length)]; }
    else out += ch;
  }
  return out;
}

/* staggered reveal */
function revealTextEl(el, text, mode){
  el.innerHTML = '';
  const chars = Array.from(text);
  chars.forEach((c,i)=>{
    const span = document.createElement('span');
    span.className = 'reveal-char';
    span.textContent = c;
    el.appendChild(span);
    setTimeout(()=>{ span.style.opacity=1; span.style.transform='translateY(0)'; }, 40*i + Math.random()*80);
  });
}

/* safe play helper */
function tryPlay(el){
  if(!el) return;
  const p = el.play();
  if(p && p.catch) p.catch(()=>{});
}

/* main convert */
function convert(){
  tryPlay(document.getElementById('se_click'));
  const input = document.getElementById('input').value || '';
  if(!input.trim()) return;
  const mode = document.getElementById('mode').value;
  const lv = Number(document.getElementById('level').value);

  // choose actual mode
  const actualMode = (mode === 'mix') ? ['A','B','C','D','E','F'][Math.floor(Math.random()*6)] : mode;

  // base replacement
  let text = input;
  Object.keys(dictionary).forEach(key => {
    const repBase = dictionary[key];
    let rep = repBase;
    if(lv >= 4 && lv <=5) rep = 'ã€' + repBase + 'ã€‘';
    if(lv >= 6) rep = 'ã€Š' + repBase + 'ï¼šæ·±ã€‹';
    const reg = new RegExp(key,'g');
    text = text.replace(reg, rep);
  });

  // mode prefixes (more variety than before)
  if(actualMode === 'A') text = 'ãªã‚“ã‹ã•ã€' + text;
  if(actualMode === 'B') text = 'å†·é™ã«è¨€ãˆã°ã€' + text;
  if(actualMode === 'C') text = 'é—‡ã®è¦³æ¸¬çµæœã¨ã—ã¦ã€' + text;
  if(actualMode === 'D') text = 'ã€Šã‚¹ã‚¿ãƒ¼ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç›£æŸ»ã€‹ ' + text;
  if(actualMode === 'E') text = 'ï¼»ç›£æŸ»é•·ï¼šæ·±å±¤è§£æï¼½ ' + text;
  if(actualMode === 'F') text = 'ã€ˆæ·±ç•Œã€‰ ' + text;

  // add prefix/suffix based on level
  if(lv >= 2) text = prefix[Math.floor(Math.random()*prefix.length)] + text;
  if(lv >= 3) text += suffix[Math.floor(Math.random()*suffix.length)];

  // apply extra deep transformations for high levels
  let intensity = Math.max(0, lv - 3); // 0..4
  if(lv >= 6) intensity += 2; // extra glitch for 6,7

  // heavy corrupt for F
  if(actualMode === 'F' || lv >= 6){
    text = glitchText(text, intensity);
  } else {
    text = glitchText(text, intensity);
  }

  // output
  const outEl = document.getElementById('textOut');
  outEl.innerHTML = '';
  revealTextEl(outEl, text, actualMode);

  // visual effects
  const container = document.getElementById('wrap');
  container.classList.add('pulse'); setTimeout(()=>container.classList.remove('pulse'),700);
  tryPlay(document.getElementById('se_pulse'));
  container.classList.add('shake'); tryPlay(document.getElementById('se_impact')); setTimeout(()=>container.classList.remove('shake'),350);
  tryPlay(document.getElementById('se_noise'));

  // spawn cracks and lightning depending on level
  const crackCount = 1 + Math.floor(Math.random() * Math.min(4, lv));
  for(let i=0;i<crackCount;i++){ spawnCrack(); tryPlay(document.getElementById('se_crack')); }
  if(Math.random() < Math.min(0.9, lv/6)) { flashLightning(); }

  // tilt screen for deep modes briefly
  if(lv >= 6 || actualMode === 'F'){
    const wrap = document.getElementById('wrap');
    wrap.style.transform = `perspective(900px) rotateX(${Math.random()*6-3}deg) rotateY(${Math.random()*8-4}deg) rotate(${Math.random()*2-1}deg)`;
    setTimeout(()=>{ wrap.style.transform=''; }, 900 + Math.random()*800);
  }

  // fog intensity
  const fog = document.getElementById('fogLayer');
  if(fog) fog.style.opacity = Math.min(0.9, 0.12 * lv + 0.15);
}

/* reset */
function resetAll(){ document.getElementById('input').value=''; document.getElementById('textOut').innerHTML=''; const fog = document.getElementById('fogLayer'); if(fog) fog.style.opacity=0; }

/* init */
window.addEventListener('resize', ()=>{ if(crtCanvas) { crtCanvas.width = crtCanvas.offsetWidth; crtCanvas.height = crtCanvas.offsetHeight; crtW = crtCanvas.width; crtH = crtCanvas.height; } });
setupCRT(); setInterval(()=>{ drawCRT(); }, 90);
// small random lightning occasionally
setInterval(()=>{ if(Math.random()<0.08) flashLightning(); }, 1600);

// hook buttons
document.getElementById('btnConvert').addEventListener('click', convert);
document.getElementById('btnReset').addEventListener('click', resetAll);

// quick keyboard
document.getElementById('input').addEventListener('keydown', (e)=>{ if(e.ctrlKey && e.key==='Enter'){ convert(); }});

/* ==================================================
   ğŸ”¥ æ¯’ãƒ¬ãƒ™ãƒ«æ¼”å‡ºãƒ•ãƒ«ã‚»ãƒƒãƒˆ
================================================== */
function applyPoisonEffects(lv){
  updatePoisonLevel(lv);
  poisonBackground(lv);
  poisonShake(lv);
  poisonFog(lv);
  poisonNoise(lv);
}

/* èƒŒæ™¯å¤‰è‰² */
function poisonBackground(lv){
  const bg = document.body;
  const colors = {
    1:"#0d0d0d", 2:"#1a1a1a", 3:"#251a1a",
    4:"#331a1a", 5:"#400000", 6:"4d0000", 7:"#550033"
  };
  bg.style.transition = "background 0.6s";
  bg.style.background = colors[lv] || "#000";
}

/* ç”»é¢æºã‚Œ */
function poisonShake(lv){
  const wrapper = document.getElementById("wrap");
  if(!wrapper) return;
  if(lv < 5){ wrapper.style.animation = "none"; return; }
  wrapper.classList.add('shake');
  setTimeout(()=> wrapper.classList.remove('shake'), 500);
}

/* é»’ã„é„ï¼ˆfogï¼‰ */
function poisonFog(lv){
  const fog = document.getElementById("fogLayer");
  if(!fog) return;
  fog.style.opacity = lv >= 3 ? Math.min(0.9, 0.35 + lv*0.05) : 0;
}

/* ãƒã‚¤ã‚º */
function poisonNoise(lv){
  // placeholder if you add separate noise layer
}

// level control binding
const levelEl = document.getElementById('level');
levelEl.addEventListener('input',(e)=>{ const v = Number(e.target.value); updatePoisonLevel(v); applyPoisonEffects(v); });
updatePoisonLevel(Number(levelEl.value));

/* fog layers insertion */
const fogMain = document.createElement('div');
fogMain.id = "fogLayer";
document.body.appendChild(fogMain);

const f1 = document.createElement('div');
f1.id = "fogLayer1"; fogMain.appendChild(f1);
const f2 = document.createElement('div');
f2.id = "fogLayer2"; fogMain.appendChild(f2);
const f3 = document.createElement('div');
f3.id = "fogLayer3"; fogMain.appendChild(f3);


// ãƒ©ãƒ³ãƒ€ãƒ å…¨ç”»é¢å´©å£Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
function triggerFullScreenShatter(){
  const wrapper=document.createElement('div');
  wrapper.className='full-screen-shatter';
  for(let i=0; i<12; i++){
    x += (Math.random()*80 - 40);
    y += (Math.random()*40 + 20);
    d += `L${x} ${y} `;
  }

  path.setAttribute("d", d);
  path.setAttribute("stroke", "rgba(255,80,80,0.8)");
  path.setAttribute("stroke-width", "2");
  path.setAttribute("fill", "none");
  path.setAttribute("stroke-linecap","round");

  svg.appendChild(path);

  // æ¶ˆãˆã‚‹æ¼”å‡º
  setTimeout(()=> svg.innerHTML="", 180);
}

/* è½ä¸‹ç ´ç‰‡ç”Ÿæˆ */
function spawnFallingPieces(count=18){
  for(let i=0;i<count;i++){
    const p=document.createElement("div");
    p.className="fall-piece";
    p.style.left = (Math.random()*100)+"vw";
    p.style.animationDuration = (1.5 + Math.random()*1.5)+"s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(), 3000);
  }
}

/* é»’ã„éœ§ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¿½åŠ  */
function createFog(){
  const fog=document.createElement("div");
  fog.id="fogLayer";
  fog.innerHTML=`
    <div id="fogLayer1"></div>
    <div id="fogLayer2"></div>
    <div id="fogLayer3"></div>
  `;
  document.body.appendChild(fog);
}
createFog();

/* éœ§ã®ON/OFF */
function fogOn(){ document.getElementById("fogLayer").style.opacity=1; }
function fogOff(){ document.getElementById("fogLayer").style.opacity=0; }

/* æ–‡å­—æ­ªã¿ãƒ»æ³¢ç«‹ã¡ */
function warpText(text){
  return text.split("").map(ch=>{
    const span=document.createElement("span");
    span.className="glitch";
    span.textContent=ch;
    span.style.display="inline-block";
    span.style.transform=`translate(${Math.random()*2-1}px, ${Math.random()*3-1.5}px) rotate(${Math.random()*2-1}deg)`;
    return span.outerHTML;
  }).join("");
}

/* ãƒã‚¬ãƒ†ã‚£ãƒ–å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ */
function convertText(){
  const input=document.getElementById("input").value;
  const mode=document.getElementById("mode").value;
  const lv=parseInt(document.getElementById("level").value);
  let text=input;

  // è¾æ›¸ã™ã¹ã¦ç½®æ›
  for(const k in dictionary){
    const v=dictionary[k];
    const reg=new RegExp(k,"g");
    text=text.replace(reg, v);
  }

  // prefix / suffix
  const pre = prefix[Math.floor(Math.random()*prefix.length)];
  const suf = suffix[Math.floor(Math.random()*suffix.length)];

  text = `${pre}${text}${suf}`;

  // ãƒ¢ãƒ¼ãƒ‰åˆ¥æ­ªã¿
  if(mode==="F") text = warpText(text);

  return text;
}

/* å‡ºåŠ›å‡¦ç† */
function renderOutput(){
  const out=document.getElementById("textOut");
  const wrap=document.getElementById("wrap");

  // éŸ³
  document.getElementById("se_click").play();

  // å¤‰æ›
  const t = convertText();

  // ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«æ¼”å‡º
  wrap.classList.add("shake");
  setTimeout(()=>wrap.classList.remove("shake"), 350);

  document.getElementById("se_impact").play();
  spawnCrack();
  flashLightning();
  spawnFallingPieces(12 + Math.floor(Math.random()*10));

  fogOn();
  setTimeout(()=>fogOff(), 1600);

  // ãƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›ï¼ˆ1æ–‡å­—ãšã¤ï¼‰
  out.innerHTML="";
  [...t].forEach((c,i)=>{
    const span=document.createElement("span");
    span.textContent=c;
    span.className="reveal-char";
    out.appendChild(span);
    setTimeout(()=>{
      span.style.opacity=1;
      span.style.transform="translateY(0)";
    }, i*18);
  });
}

/* ---------------------------
   ã‚¤ãƒ™ãƒ³ãƒˆ
   ---------------------------*/
document.getElementById("btnConvert").onclick = renderOutput;

document.getElementById("btnReset").onclick = ()=>{
  document.getElementById("input").value="";
  document.getElementById("textOut").innerHTML="";
};

document.getElementById("level").oninput = e =>
  updatePoisonLevel(parseInt(e.target.value));

/* CRTé–‹å§‹ */
setupCRT();
setInterval(drawCRT, 60);
window.onresize = setupCRT;
</script>

</body>
</html>
